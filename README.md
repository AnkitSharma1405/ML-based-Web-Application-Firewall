# ML-based Web Application Firewall

This project is a Web Application Firewall (WAF) that uses machine learning to detect and prevent web application attacks. The model is trained on the `whole_query.csv` dataset to classify incoming requests as malicious or benign.

## Prerequisites

- Python 3.x
- Jupyter Notebook
- Python libraries: (list required libraries here, e.g., pycaret, pandas, numpy, etc.)
- FoxyProxy browser extension
- Burp Suite (for collecting HTTP request/response data)

## Setup Instructions

1. **Data Collection and Preprocessing:**
- Use Burp Suite to capture HTTP request/response data for legitimate and malicious queries. This generates `good.log` and `bad.log` files, respectively.
- Run the `data_extraction.py` script to preprocess the data from `good.log` and `bad.log`. This script extracts meaningful features (e.g., single quotes, double quotes, dashes, etc.) and prepares the `whole_query.csv` dataset for model training.

2. **Prepare the Dataset:**
- Ensure the `whole_query.csv` dataset, generated by `data_extraction.py`, is in the project directory. This is used to train the ML model.

3. **Run the Jupyter Notebook:**
- Open `WAF_proxy.ipynb` in Jupyter Notebook.
- If the notebook includes model training code, run those cells first to train the model using `whole_query.csv`.
- In the notebook, find the cell where the proxy server’s IP address and port are set (e.g., `localhost:8080`). Enter the correct values.
- Run the notebook to start the proxy server.

4. **Configure FoxyProxy:**
- Install the FoxyProxy extension in your browser.
- Configure FoxyProxy to use the proxy server’s IP address and port (e.g., `localhost:8080`) as set in the notebook.

## Usage

Once the proxy server is running and FoxyProxy is configured, your browser traffic will pass through the WAF. The WAF uses the trained ML model to analyze requests and block malicious ones.

You can monitor the proxy server’s output in the notebook to see which requests are allowed or blocked.

## Additional Resources

- **Demo Video**: Check out `demo_video.webm` in the repository for a visual demonstration of the WAF in action.
- **Presentation**: Refer to the PPT file `Introduction-to-ML-based-Web-Application-Firewalls` for an overview of the project and its concepts.

For more clarity on the project setup and functionality, you can go through the demo video and presentation.

## Dataset

The `whole_query.csv` dataset contains web queries labeled as malicious or benign, used to train the ML model. It is generated by preprocessing `good.log` and `bad.log` files using the `data_extraction.py` script.

## Thank you.


